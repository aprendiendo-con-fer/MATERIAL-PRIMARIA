<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Material Interactivo Primaria | Mtra. MarÃ­a Fernanda</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
body{
    font-family:'Quicksand',sans-serif;
    background:linear-gradient(135deg,#e0f2fe 0%,#f0f9ff 100%);
    min-height:100vh;
}
.font-kids{font-family:'Fredoka One',cursive;}
.btn-bounce{transition:all .3s ease;cursor:pointer;}
.btn-bounce:hover{transform:scale(1.05);}
.glass{
    background:rgba(255,255,255,.9);
    backdrop-filter:blur(10px);
    border:4px solid #fff;
}
.input-kids{
    width:100%;
    text-align:center;
    padding:16px;
    border-radius:20px;
    border:4px solid #dbeafe;
    margin-bottom:12px;
    font-size:18px;
}
.hidden{display:none;}
</style>
</head>

<body class="p-4">

<!-- HEADER -->
<header id="main-header" class="hidden max-w-6xl mx-auto flex justify-between items-center bg-white p-4 rounded-3xl shadow-xl border-b-8 border-blue-200 mb-8">
<div class="flex items-center gap-3">
<div class="text-2xl">ğŸ«</div>
<h1 class="font-kids text-blue-600 text-lg uppercase">Material Interactivo Primaria</h1>
</div>
<div class="flex gap-4 items-center">
<div class="text-red-500 font-bold">â¤ï¸ <span id="lives">5</span></div>
<div class="text-yellow-500 font-bold">â­ <span id="points">0</span></div>
<span id="display-user" class="text-blue-600 font-kids text-xs uppercase"></span>
<button onclick="cerrarSesion()" class="bg-red-500 text-white px-4 py-2 rounded-xl text-xs">SALIR</button>
</div>
</header>

<!-- LOGIN -->
<section id="view-auth" class="text-center py-10">
<div class="glass p-8 rounded-3xl shadow-2xl inline-block w-full max-w-md">
<h2 class="font-kids text-3xl text-pink-500 mb-4">Â¡Bienvenidos!</h2>
<input type="text" id="auth-user" placeholder="Usuario" class="input-kids">
<input type="password" id="auth-pass" placeholder="ContraseÃ±a" class="input-kids">
<button onclick="intentarLogin()" class="btn-bounce bg-blue-500 text-white font-kids text-xl w-full py-3 rounded-2xl mb-3">ENTRAR ğŸ”‘</button>
<button onclick="intentarRegistro()" class="btn-bounce bg-pink-500 text-white font-kids text-xl w-full py-3 rounded-2xl">REGISTRARME âœ¨</button>
</div>
</section>

<!-- FASES -->
<section id="view-phases" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">

<button onclick="cargarJuegos(3)" class="btn-bounce bg-orange-400 p-8 rounded-3xl text-white">
<div class="text-5xl mb-3">ğŸ–ï¸</div>
<h3 class="font-kids text-2xl">FASE 3</h3>
</button>

<button onclick="cargarJuegos(4)" class="btn-bounce bg-green-500 p-8 rounded-3xl text-white">
<div class="text-5xl mb-3">ğŸ§ª</div>
<h3 class="font-kids text-2xl">FASE 4</h3>
</button>

<button onclick="cargarJuegos(5)" class="btn-bounce bg-purple-500 p-8 rounded-3xl text-white">
<div class="text-5xl mb-3">ğŸ”­</div>
<h3 class="font-kids text-2xl">FASE 5</h3>
</button>

<button onclick="mostrarIngles()" class="btn-bounce bg-blue-500 p-8 rounded-3xl text-white">
<div class="text-5xl mb-3">ğŸŒ</div>
<h3 class="font-kids text-2xl">ENGLISH</h3>
</button>

</section>

<!-- LISTA JUEGOS -->
<section id="view-game-list" class="hidden">
<button onclick="volverMenu()" class="bg-white px-6 py-2 rounded-full font-bold text-blue-500 shadow-md mb-6">ğŸ  VOLVER</button>
<div id="game-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
</section>

<script>

/* AUTO LOGIN */
window.addEventListener("DOMContentLoaded",function(){
const usuarioActivo=localStorage.getItem("usuarioActivo");
if(usuarioActivo){iniciarSesion(usuarioActivo);}
});

function intentarRegistro(){
const u=document.getElementById('auth-user').value.trim().toLowerCase();
const p=document.getElementById('auth-pass').value.trim();
if(!u||!p)return alert("Escribe usuario y contraseÃ±a");
let db=JSON.parse(localStorage.getItem('v_carranza_db')||"{}");
if(db[u])return alert("Usuario ya existe");
db[u]={p,points:0,lives:5};
localStorage.setItem('v_carranza_db',JSON.stringify(db));
alert("Cuenta creada âœ¨");
}

function intentarLogin(){
const u=document.getElementById('auth-user').value.trim().toLowerCase();
const p=document.getElementById('auth-pass').value.trim();
let db=JSON.parse(localStorage.getItem('v_carranza_db')||"{}");
if(db[u]&&db[u].p===p){
localStorage.setItem("usuarioActivo",u);
iniciarSesion(u);
}else alert("Usuario incorrecto");
}

function iniciarSesion(u){
let db=JSON.parse(localStorage.getItem('v_carranza_db')||"{}");
document.getElementById('view-auth').classList.add('hidden');
document.getElementById('main-header').classList.remove('hidden');
document.getElementById('view-phases').classList.remove('hidden');
document.getElementById('display-user').innerText="HOLA, "+u;
document.getElementById('points').innerText=db[u].points;
document.getElementById('lives').innerText=db[u].lives;
}

function cerrarSesion(){
localStorage.removeItem("usuarioActivo");
location.reload();
}

function volverMenu(){
document.getElementById('view-game-list').classList.add('hidden');
document.getElementById('view-phases').classList.remove('hidden');
}

function mostrarIngles(){
alert("AquÃ­ va el menÃº de English ğŸŒ");
}

function cargarJuegos(f){
document.getElementById('view-phases').classList.add('hidden');
document.getElementById('view-game-list').classList.remove('hidden');
const grid=document.getElementById('game-grid');
grid.innerHTML="";

const misJuegos={

3:[
{nombre:"MayÃºsculas mÃ¡gicas",link:"mayusculasf3.html"},
{nombre:"Descubriendo vocales",link:"vocalesf3.html"},
{nombre:"Orden alfabÃ©tico",link:"alfabetof3.html"},
{nombre:"Fracciones",link:"pizzeriaf3.html"},
{nombre:"MatemÃ¡ticas montessori",link:"matemontesori.html"},
{nombre:"La tiendita",link:"tiendita.html"},
{nombre:"Conteo mÃ¡gico",link:"sumasf3.html"},
{nombre:"Sumas divertidas",link:"sumasf3.html"},
{nombre:"Restas aventura",link:"restasf3.html"},
{nombre:"Figuras locas",link:"figurasf3.html"},
{nombre:"Mayor o menor",link:"mayormenorf3.html"},
{nombre:"Secuencias",link:"secuenciasf3.html"},
{nombre:"MÃ©todo global alfabetizaciÃ³n",link:"alfabetizacionglobalf3.html"},
{nombre:"Ciencias naturales",link:"cienciasf3.html"},
{nombre:"GeografÃ­a",link:"geografiaf3.html"},
{nombre:"EducaciÃ³n Socioemocional",link:"socioemocionalf3.html"},
{nombre:"EducaciÃ³n Financiera",link:"educacionfinancieraf3.html"}
],

4:[
{nombre:"Las Tablas",link:"f4_tablas.html"},
{nombre:"Fracciones",link:"pizzeriaf4.html"},
{nombre:"La Tiendita",link:"tiendita.html"},
{nombre:"Naturaleza",link:"f4_ciencias.html"}
],

5:[
{nombre:"Cuerpo Humano",link:"f5_cuerpo.html"},
{nombre:"Fracciones",link:"pizzeriaf5.html"},
{nombre:"Universo",link:"f5_planetas.html"}
]

};

misJuegos[f].forEach(j=>{
grid.innerHTML+=`
<div class="glass p-6 rounded-3xl text-center shadow-lg">
<h4 class="font-kids text-lg uppercase">${j.nombre}</h4>
<a href="${j.link}" class="bg-pink-500 text-white px-6 py-2 rounded-full mt-3 inline-block">JUGAR</a>
</div>`;
});
}

</script>

</body>
</html>